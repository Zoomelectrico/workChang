<section id="welcome">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h2 class="text-center text-white">Bienvenido {{user.firstName}}</h2>
      </div>
    </div>
  </div>
</section>
<div class="container">
  <div class="row justify-content-around">
    <div class="col-lg-10 fondoBlanco">
      <ngb-tabset type="pills" justify="fill">
        <ngb-tab title="Usuario">
          <ng-template ngbTabContent>
            <div class="row justify-content-around mt-2">
              <div class="col-sm-12 col-lg-12">
                <div class="row">
                  <div class="col-lg-12 mt-3 text-left">
                    <h5>Buscar usuarios:</h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-8 col-sm-12">
                    <form #formUpdate="ngForm">
                      <input class="form-control" id="userID" type="text" placeholder="Apellido" [(ngModel)]="userIDSearch" [ngModelOptions]="{standalone: true}">
                    </form>
                  </div>
                  <div class="col-lg-4 col-sm-12 text-center">
                    <button class="btn btn-primary m-1" (click)="getUsuarioByID()">Buscar</button>
                    <button class="btn btn-primary m-1" (click)="getUsuario()">Todos los usuarios</button>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-lg-12 text-left">
                    <h5>Usuarios:</h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-12 col-sm-6">
                    <table class="pl-5 table table-hover table-responsive" data-toggle="table" data-pagination="true">
                      <thead class="thead-dark">
                        <tr>
                          <th>Cédula</th>
                          <th>Nombre</th>
                          <th>Username</th>
                          <th>Correo</th>
                          <th>Tipo de usuario</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let user of usuarios" (click)="usuarioSelec(user)">
                          <td>{{user.nationalID}}</td>
                          <td>{{user.firstName}} {{user.lastName}}</td>
                          <td>{{user.username}}</td>
                          <td>{{user.email}}</td>
                          <td>{{user.typeShown}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-12 mt-3 text-left">
                    <h4>Registrar/ Modificar Usuario</h4>
                  </div>
                </div>
                <div class="col-sm-12 col-lg-12">
                  <form #formUpdate="ngForm" (submit)="registrarEmpleado(content)">
                    <div class="row">
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="firstName">Nombres</label>
                        <input type="text" class="form-control" id="firstName" [(ngModel)]="firstName" name="firstName" [ngModelOptions]="{standalone: true}"
                          placeholder="Rafael">
                      </div>
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="lastName">Apellidos</label>
                        <input type="text" class="form-control" id="lastName" [(ngModel)]="lastName" [ngModelOptions]="{standalone: true}" name="lastName"
                          placeholder="Matienzo">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="username">Nombre de Usuario</label>
                        <input type="text" class="form-control" id="username" name="username" [(ngModel)]="username" [ngModelOptions]="{standalone: true}"
                          placeholder="rmatienzo">
                      </div>
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" class="form-control" id="email" [(ngModel)]="email" [ngModelOptions]="{standalone: true}" name="email"
                          placeholder="rmatienzp@example.com">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" class="form-control" id="password" [(ngModel)]="password" name="password" [ngModelOptions]="{standalone: true}"
                          placeholder="password">
                      </div>
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="password2">Verificación de Contraseña</label>
                        <input type="password" class="form-control" id="password2" [(ngModel)]="password2" [ngModelOptions]="{standalone: true}"
                          name="password2" placeholder="password">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="addressLine1">Dirección #1</label>
                        <input type="text" class="form-control" id="addressLine1" [(ngModel)]="addressLine1" [ngModelOptions]="{standalone: true}"
                          name="addressLine1" placeholder="Edif. La Risa Apto. 00">
                      </div>
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="addressLine2">Direcciones #2</label>
                        <input type="text" class="form-control" id="addressLine2" [(ngModel)]="addressLine2" [ngModelOptions]="{standalone: true}"
                          name="addressLine2" placeholder="Calle 2, El Paraiso">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="city">Ciudad</label>
                        <input type="text" class="form-control" id="city" [(ngModel)]="city" [ngModelOptions]="{standalone: true}" name="city" placeholder="Caracas">
                      </div>
                      <div class="col-sm-12 col-lg-6 form-group">
                        <label for="nationalID">Cédula</label>
                        <input type="text" class="form-control" id="nationalID" [(ngModel)]="nationalID" [ngModelOptions]="{standalone: true}" name="nationalID"
                          placeholder="1000">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-lg-12 form-group">
                        <label for="rolAsignado">Rol</label>
                        <select class="form-control" id="rolAsignado" required (change)="onChange($event.target.value)">
                          <option *ngFor="let rol of roles" [value]="rol.type">{{rol.nombre}}</option>
                        </select>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-12 col-sm-12 text-right">
                        <button type="submit" class="btn btn-primary m-1" [disabled]="canModificateUser">Registrar</button>
                        <button class="btn btn-primary m-1" (click)="modificarUser()" [disabled]="!canModificateUser">Modificar</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-template #content let-c="close" let-d="dismiss">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-body">
                <h4>Operación realizada con éxito</h4>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Repuestos">
          <ng-template ngbTabContent>
            <div class="row justify-content-around mt-2">
              <div class="col-sm-12 col-lg-12">
                <div class="row">
                  <div class="col-lg-12 mt-3 text-left">
                    <h5>Buscar repuestos:</h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-8 col-sm-12">
                    <form #formUpdate="ngForm">
                      <input class="form-control" id="partNumberSearch" type="text" placeholder="Número de parte" [(ngModel)]="partNumberSearch"
                        [ngModelOptions]="{standalone: true}">
                    </form>
                  </div>
                  <div class="col-lg-4 col-sm-12 text-center">
                    <button class="btn btn-primary m-1" (click)="getRepuestosByPartNumber()">Buscar</button>
                    <button class="btn btn-primary m-1" (click)="getRepuesto()">Todos los repuestos</button>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-lg-12 mt-3 text-left">
                    <h4>Repuestos</h4>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-12 col-sm-6 text-center">
                    <table class="table table-hover table-responsive" data-toggle="table" data-pagination="true">
                      <thead class="thead-dark">
                        <tr>
                          <th>Numero de parte</th>
                          <th>Nombre</th>
                          <th>Marca</th>
                          <th>Modelo</th>
                          <th>Disponibilidad</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let repuesto of repuestos">
                          <td>{{repuesto.partNumber}}
                          </td>
                          <td>{{repuesto.name}}
                          </td>
                          <td>{{repuesto.brand}}
                          </td>
                          <td>{{repuesto.forModel}}
                          </td>
                          <td>{{repuesto.inStock}} Unidades</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <br>
                <h4 class="text-left mt-2">Añadir Repuesto/ Modificar Repuesto</h4>
                <form #formUpdate="ngForm">
                  <div class="row">
                    <div class="col-sm-12 col-lg-6 form-group">
                      <label for="partNumber">Numero de parte</label>
                      <input class="form-control" id="partNumber" type="text" placeholder="9933885522" [(ngModel)]="partNumber" [ngModelOptions]="{standalone: true}">
                    </div>
                    <div class="col-sm-12 col-lg-6 form-group">
                      <label for="partName">Nombre</label>
                      <input class="form-control" id="partName" type="text" placeholder="Pastillas de freno" [(ngModel)]="name" [ngModelOptions]="{standalone: true}">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-lg-6 form-group">
                      <label for="partBrand">Marca</label>
                      <input class="form-control" id="partBrand" type="text" placeholder="Toyota" [(ngModel)]="brand" [ngModelOptions]="{standalone: true}">
                    </div>
                    <div class="col-sm-12 col-lg-6 form-group">
                      <label for="partModel">Modelo</label>
                      <input class="form-control" id="partModel" type="text" placeholder="Camry" [(ngModel)]="forModel" [ngModelOptions]="{standalone: true}">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-lg-6 form-group">
                      <label for="partQuantity">Cantidad</label>
                      <input class="form-control" id="partQuantity" type="text" placeholder="7" [(ngModel)]="inStock" [ngModelOptions]="{standalone: true}">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6 form-group text-center">
                      <button class="btn btn-primary" (click)="registrarRepuesto(content)" [disabled]="canModificateRep">Añadir</button>
                    </div>
                    <div class="col-sm-6 form-group text-center">
                      <button class="btn btn-primary" (click)="modificarRepuesto()" [disabled]="!canModificateRep">Modificar</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </div>
</div>
<br>
<br>
<br>
<br>